<!doctype html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-black" id="app" style='background: url("img/background.jpg"); background-size: cover;'>
    <nav class="bg-gray-800">
        <div class="mx-auto max-w-7xl px-2 sm:px-6 lg:px-8">
            <div class="relative flex h-16 items-center justify-between">
                <div class="flex flex-1 sm:items-stretch sm:justify-start">
                    <div class="flex flex-shrink-0 items-center text-white text-xl">
                        Battelle Mast√®re Pokaire
                    </div>
                </div>
            </div>
        </div>
    </nav>
    <div>
        <div v-if="!is_authed">
            <div class="absolute inset-0 top-14 flex justify-center items-center z-10 backdrop-blur-md">
                <div class="relative z-10" role="dialog" aria-modal="true">
                    <div class="fixed inset-0 bg-gray-500 bg-opacity-25 transition-opacity"></div>
                    <div class="fixed inset-0 z-10 overflow-y-auto p-4 sm:p-6 md:p-20">
                        <div class="mx-auto max-w-xl transform divide-y divide-gray-100 overflow-hidden
                                rounded-xl bg-white shadow-2xl ring-1 ring-black ring-opacity-5 transition-all">
                            <div class="relative p-4">
                                <h1 class="text-xl text-center p-4 items-center justify-center">
                                    Vous rentrez sur un site contenant du jeu, de la violence et potentiellement
                                    des gens.
                                </h1>
                                <div class="flex flex-col items-center">
                                    <button type="button" class="inline-flex items-center rounded-md border
                                                border-transparent bg-indigo-100 px-4 py-2 text-base font-medium
                                                text-indigo-700 hover:bg-indigo-200 focus:outline-none focus:ring-2
                                                focus:ring-indigo-500 focus:ring-offset-2">
                                        Se connecter
                                    </button>
                                    <div id="test"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="m-4 mt-12 grid gap-4 justify-center place-items-center text-white">
            <h1 class="text-3xl">Laissez une chance au hasard</h1>
            <h2 class="text-2xl">
                Remportez une cagnotte de <span id="total">10</span> CHF !
            </h2>

            <button type="button" class="inline-flex items-center rounded-md border border-transparent
                bg-green-600 px-6 py-3 mt-28 text-base font-medium text-white shadow-sm hover:bg-green-700
                focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2">
                Jouer
            </button>
        </div>
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="../js/qrcode.min.js"></script>
    <script>
        const { createApp } = Vue

        createApp({
            mounted(){
                this.random();
                new QRCode(document.getElementById("test"), "https://www.unige.ch");
            },
            methods: {
                random: function(){
                    setInterval(function(){
                        let el = document.getElementById("total");
                        el.innerText = (parseFloat(el.innerText) + Math.floor(Math.random() * 258)).toString()
                    }, 756)
                }
            },
            data() {
                return {
                    is_authed: false
                }
            }
        }).mount('#app')
    </script>
</body>
</html>